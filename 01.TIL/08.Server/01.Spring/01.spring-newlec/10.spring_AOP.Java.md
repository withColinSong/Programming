# [ëª©ì°¨](#ëª©ì°¨)
- [ëª©ì°¨](#ëª©ì°¨)
- [1. AOP](#1-aop)
- [2. ìˆœìˆ˜ ìë°”ë¡œ AOP êµ¬í˜„](#2-ìˆœìˆ˜-ìë°”ë¡œ-aop-êµ¬í˜„)
  - [2.1. Program.java (Main)](#21-programjava-main)
  - [2.2. Exam.java (interface)](#22-examjava-interface)
  - [2.3. Newlecture.java ( `Exam` interface êµ¬í˜„í•œ í´ë˜ìŠ¤)](#23-newlecturejava--exam-interface-êµ¬í˜„í•œ-í´ë˜ìŠ¤)
  - [2.4. ì½˜ì†”](#24-ì½˜ì†”)
  - [Reference](#reference)

# 1. AOP
Aspect Oriented Programming 
ê´€ì  ì§€í–¥ í”„ë¡œê·¸ë˜ë°

Aspect

- ğŸ‘©ì‚¬ìš©ìê°€ ë³´ëŠ” ê´€ì  -> ì£¼ ì—…ë¬´ ë¡œì§
> ì£¼ê´€ì‹¬ì‚¬ Primary(Core) ì‚¬ìš©ì ê´€ì 
- ğŸ‘©â€ğŸ’» ê°œë°œì, ìš´ì˜ìë¥¼ ìœ„í•´ ë„£ëŠ” ë¡œì§ -> ê´€ì ì— ë”°ë¼ì„œ
> ì‚¬ìš©ìê°€ ëª¨ë¥´ëŠ” Cross-cutting Concern ë¡œê·¸ì²˜ë¦¬, ë³´ì•ˆì²˜ë¦¬, íŠ¸ëœì­ì…˜ ì²˜ë¦¬
- ì£¼ ì—…ë¬´ ë¡œì§ + ê°œë°œì, ìš´ì˜ìë¥¼ ìœ„í•´ ë„£ëŠ” ë¡œì§ => `ê´€ì  ì§€í–¥ í”„ë¡œê·¸ë˜ë°`

Porxy í´ë˜ìŠ¤ì— êµ¬í˜„ë˜ëŠ” `Cross-cutting Concern`


# 2. ìˆœìˆ˜ ìë°”ë¡œ AOP êµ¬í˜„

## 2.1. Program.java (Main)
```java

package spring.aop;

import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import spring.aop.entity.Exam;
import spring.aop.entity.NewlecExam;

public class Program {
    
    public static void main(String[] args) {
        
        Exam exam = new Newlecture(1, 1, 1, 1);
        
        // Proxy.newProxyInstance(Loader, interface, h);
        // Proxy.newProxyInstance(ë¡œë“œí•  ê°ì²´, ë¡œë“œí•  ê°ì²´ì˜ ì¸í„°í˜ì´ìŠ¤, í•¸ë“¤ëŸ¬);
        
        Exam proxy = (Exam)Proxy.newProxyInstance(
        Newlecture.class.getClassLoader(), 
        new Class[] {Exam.class}, 
        new invocation.Handler()    {

            @Override
            public Object invoke(Object proxy, Method method, Object[] args)throw Throwable {
                
                long start = System.currentTimeMillis();

                // Object object = method.invoke(ì‹¤ì œì—…ë¬´ê°ì²´, args);
                Object result = method.invoke(exam, args);
                
                long end = System.currentTimeMillis();
                
                String message = (end-start) + "ms ê±¸ë ¸ìŠµë‹ˆë‹¤.";
                System.out.println(message);

                return result;
                
            }

        });

       	System.out.printf("proxy total  : %d\n", proxy.total());
		System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");

		System.out.printf("proxy total  : %f\n", proxy.avg());
		System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");

		System.out.printf("exam total  : %d\n", exam.total());
		System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
		System.out.printf("exam total  : %f\n", exam.avg());
    }
}

```

- `proxy` : Cross-cuttingì´ ê°€ëŠ¥í•˜ë‹¤.

> System.out.printf("total : %d", exam.total()); <br>
> ì£¼ ì—…ë¬´ ë¡œì§ ì‚¬ìš© ê°€ëŠ¥í•¨.


## 2.2. Exam.java (interface)
```java

package spring.aop.entity;

public interface Exam {
    public int total();
    public float avg();
}
```

## 2.3. Newlecture.java ( `Exam` interface êµ¬í˜„í•œ í´ë˜ìŠ¤)
```java

package spring.aop.entity;

public class Newlecture implements Exam {

    private int kor;
    private int eng;
    private int math;
    private int com;

    public Newlecture() { }
    public Newlecture(int kor, int eng, int math, int com) {
        this.kor = kor;
        this.eng = eng;
        this.math = math;
        this.com = com;
    }

    @Override
    public int total() {
        
        int result = kor + eng + math + com;
        
        try {

        Thread.sleep(200);
        
        } catch(InterruptedException e) {
            e.printStackTrace();
        }

        return result;
    }
    
    // setter, getter
    public void setCom(int com) {
		this.com = com;
	}
	public int getKor() {
		return kor;
	}
	
	public void setKor(int kor) {
		this.kor = kor;
	}
	
	public int getEng() {
		return eng;
	}
	
	public void setEng(int eng) {
		this.eng = eng;
	}
	
	public int getMath() {
		return math;
	}
	
	public void setMath(int math) {
		this.math = math;
	}
	
	public int getCom() {
		return com;
	}
}

```

## 2.4. ì½˜ì†”

![](https://images.velog.io/images/withcolinsong/post/bd7ce66c-7ffd-4897-b41d-d0c7e30a594b/image.png)

## Reference
- [ë‰´ë ‰ì²˜](https://www.youtube.com): `Spring`
- ğŸˆ2021.01.22