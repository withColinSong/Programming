# [ëª©ì°¨](#ëª©ì°¨)
- [ëª©ì°¨](#ëª©ì°¨)
- [1. AfterReturningAdvice](#1-afterreturningadvice)
	- [1.1. Program.java (Main)](#11-programjava-main)
	- [1.2. setting.xml](#12-settingxml)
	- [1.3. AfterReturningAdvice.java](#13-afterreturningadvicejava)
	- [1.4. ì½˜ì†”](#14-ì½˜ì†”)
	- [Reference](#reference)

# 1. AfterReturningAdvice

- targetê°ì²´ì˜ íŠ¹ì • ë©”ì†Œë“œì˜ ì‹¤í–‰ì„ ë¬´ì‚¬íˆ ì™„ë£Œí•œ ë’¤ì— ì¶”ê°€í•  ì‘ì—…ì„ ì •ì˜ í•  ë•Œ ì‚¬ìš©

## 1.1. Program.java (Main)

```java

package spring.aop;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import spring.aop.entity.Exam;



public class Program {

	public static void main(String[] args) {

		
		ApplicationContext context = 
				new ClassPathXmlApplicationContext("spring/aop/entity/setting.xml");
		
		Exam proxy = (Exam) context.getBean("proxy");
		
		//Exam exam = (Exam) context.getBean("target");
		
		
		
		System.out.printf("proxy total  : %d\n", proxy.total());
		System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
		//System.out.printf("proxy total  : %f\n", proxy.avg());
		//System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
	
	}

}

```
## 1.2. setting.xml
```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">
	
	<bean id="target" class="spring.aop.entity.NewlecExam" 
	p:kor="10" p:eng="1" p:math="1" p:com="1"/>
	
	<bean id="logAroundAdvice" class="spring.aop.advice.LogAroundAdvice"/>
	<bean id="logBeforeAdvice" class="spring.aop.advice.LogBeforeAdvice"/>
	<bean id="logAfterReturnAdvice" class="spring.aop.advice.LogAfterReturnAdvice"/>
	
	<bean id="proxy" class="org.springframework.aop.framework.ProxyFactoryBean">
		<property name="target" ref="target"/>
		<property name="interceptorNames">
			<list>
				<value>logAroundAdvice</value>
				<value>logBeforeAdvice</value>
				<value>logAfterReturnAdvice</value>
			</list>
		</property>
	
	</bean>
	
	
</beans>
```

## 1.3. AfterReturningAdvice.java

```java

import java.lang.reflect.Method;

import org.springframework.aop.AfterReturningAdvice;

public class LogAfterReturnAdvice implements AfterReturningAdvice{

	@Override
	public void afterReturning(Object returnValue, Method method, Object[] args, Object target) throws Throwable {
		
		System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€afterReturning()ì‹œì‘â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
		
        System.out.println("returnValue â†’ " + returnValue );
		System.out.println("Method â†’ " + method);		
		System.out.println("args â†’ " + args);
		System.out.println("target â†’ " + target);
		
		System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€afterReturning()ëâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n");
				
	}
	
}
```

## 1.4. ì½˜ì†”

```java
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€before()ì‹œì‘â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Method public abstract int spring.aop.entity.Exam.total()
args [Ljava.lang.Object;@1e1a0406
target : NewlecExam [kor=10, eng=1, math=1, com=1]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€before()ëâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€afterReturning()ì‹œì‘â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
returnValue â†’ 13
Method â†’ public abstract int spring.aop.entity.Exam.total()
args â†’ [Ljava.lang.Object;@1e1a0406
target â†’ NewlecExam [kor=10, eng=1, math=1, com=1]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€afterReturning()ëâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

212ms ê±¸ë ¸ìŠµë‹ˆë‹¤.
proxy total  : 13

```

## Reference
- [ë‰´ë ‰ì²˜](https://www.youtube.com): `Spring`
- [ì°¸ê³ ì½”ë“œ 1ğŸ‘‰ `Spring_AOP_AroundAdvice.md`](11.spring_AOP_AroundAdvice.md)
- [ì°¸ê³ ì½”ë“œ 2ğŸ‘‰ `Spring_AOP_Before.md`](12.spring_AOP_Before.md) 
- ğŸˆ2021.01.23